<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>风切变 3D 预测系统</title>
  {% load static %}
  <!-- 使用官方 Plotly CDN -->
  <script src="https://cdn.plot.ly/plotly-2.27.1.min.js"></script>
  <style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        margin: 40px;
        line-height: 1.6;
    }
    #plot3d {
        width: 100%;
        height: 600px;
        border: 1px solid #ccc;
        margin-top: 20px;
    }
    .success {
        color: green;
        font-weight: bold;
        margin: 10px 0;
    }
    .error {
        color: red;
        font-weight: bold;
        margin: 10px 0;
    }
    button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
  </style>
</head>
<body>
  <h2>风切变强度 3D 可视化</h2>

  <form id="uploadForm" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="file" name="file" accept=".csv" required>
    <button type="submit">上传并预测</button>
  </form>

  <div id="message"></div>
  <div id="plot3d"></div>

  <!-- 自定义JS放在最后 -->
  <script src="{% static 'js/plotly-3d.js' %}"></script>
</body>
</html>